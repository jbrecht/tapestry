<div class="project-container">
  <div class="header-row">
    <h3>Projects</h3>
  </div>

  <mat-form-field appearance="outline" class="project-select">
    <mat-label>Select Project</mat-label>
    <mat-select [value]="store.projectName()" (selectionChange)="onSwitchProject($event.value)">
      <mat-option *ngFor="let project of store.projectList()" [value]="project">
        {{ project }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  
  <div class="new-project-form">
    <mat-form-field appearance="outline" class="new-project-input">
      <mat-label>New Project Name</mat-label>
      <input matInput 
             type="text" 
             [ngModel]="newProjectName()" 
             (ngModelChange)="newProjectName.set($event)"
             (keyup.enter)="startProject()" />
      <button mat-icon-button matSuffix (click)="startProject()" [disabled]="!newProjectName().trim()">
        <mat-icon>add</mat-icon>
      </button>
    </mat-form-field>
  </div>
  <div class="debug-stats" style="margin-top: 20px; font-size: 0.8em; color: #666; border-top: 1px solid #eee; padding-top: 10px;">
    <div><strong>Debug Stats:</strong></div>
    <div>Nodes: {{ store.nodes().length }}</div>
    <div>Edges: {{ store.edges().length }}</div>
    <div>Messages: {{ store.messages().length }}</div>
    <div>Active Project: {{ store.projectName() }}</div>
    <div>Is Loading: {{ store.isLoading() }}</div>
  </div>
</div>
