<div class="chat-container">
  <div class="message-list">
    @for (msg of store.messages(); track $index) {
      <div class="message" [class]="msg.role">
        <span class="label">{{ msg.role === 'user' ? 'You' : 'Loom' }}</span>
        <p>{{ msg.content }}</p>
      </div>
    }

    @if (loomResource.isLoading()) {
      <div class="message assistant loading">
        <span>The Loom is spinning...</span>
      </div>
    }
  </div>

  <div class="input-area">
    <input 
      [(ngModel)]="userInput" 
      placeholder="Name 3 People, Places or Things..."
      [disabled]="loomResource.isLoading()" />
    <button (click)="onSend()" [disabled]="loomResource.isLoading()">
      Send
    </button>
  </div>
</div>